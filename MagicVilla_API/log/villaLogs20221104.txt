2022-11-04 06:18:39.038 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-11-04 06:18:39.130 +01:00 [DBG] Hosting starting
2022-11-04 06:18:39.151 +01:00 [INF] User profile is available. Using 'C:\Users\rtoldi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-04 06:18:39.153 +01:00 [DBG] Reading data from file 'C:\Users\rtoldi\AppData\Local\ASP.NET\DataProtection-Keys\key-27159ef2-17f2-4c5f-9c9d-f3350ac98bb9.xml'.
2022-11-04 06:18:39.156 +01:00 [DBG] Reading data from file 'C:\Users\rtoldi\AppData\Local\ASP.NET\DataProtection-Keys\key-33f6f038-2136-422e-b328-87ca68eb2e95.xml'.
2022-11-04 06:18:39.156 +01:00 [DBG] Reading data from file 'C:\Users\rtoldi\AppData\Local\ASP.NET\DataProtection-Keys\key-95d9bb65-0f17-4b4a-91db-ad33ee17bdfd.xml'.
2022-11-04 06:18:39.156 +01:00 [DBG] Reading data from file 'C:\Users\rtoldi\AppData\Local\ASP.NET\DataProtection-Keys\key-ca5418d9-ee4c-4ba0-8c55-fe7be64fcdab.xml'.
2022-11-04 06:18:39.160 +01:00 [DBG] Found key {27159ef2-17f2-4c5f-9c9d-f3350ac98bb9}.
2022-11-04 06:18:39.162 +01:00 [DBG] Found key {33f6f038-2136-422e-b328-87ca68eb2e95}.
2022-11-04 06:18:39.162 +01:00 [DBG] Found key {95d9bb65-0f17-4b4a-91db-ad33ee17bdfd}.
2022-11-04 06:18:39.162 +01:00 [DBG] Found key {ca5418d9-ee4c-4ba0-8c55-fe7be64fcdab}.
2022-11-04 06:18:39.167 +01:00 [DBG] Considering key {ca5418d9-ee4c-4ba0-8c55-fe7be64fcdab} with expiration date 2023-01-22 16:19:06Z as default key.
2022-11-04 06:18:39.168 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-04 06:18:39.170 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-11-04 06:18:39.171 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-04 06:18:39.173 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-11-04 06:18:39.174 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-11-04 06:18:39.176 +01:00 [DBG] Using key {ca5418d9-ee4c-4ba0-8c55-fe7be64fcdab} as the default key.
2022-11-04 06:18:39.176 +01:00 [DBG] Key ring with default key {ca5418d9-ee4c-4ba0-8c55-fe7be64fcdab} was loaded during application startup.
2022-11-04 06:18:39.273 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F270D90B7FA1668EBDB3D13B83A358E961DF2897)
2022-11-04 06:18:39.304 +01:00 [INF] Now listening on: https://localhost:7188
2022-11-04 06:18:39.304 +01:00 [INF] Now listening on: http://localhost:5188
2022-11-04 06:18:39.304 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_API
2022-11-04 06:18:39.304 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-11-04 06:18:39.304 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-11-04 06:18:39.304 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 06:18:39.304 +01:00 [INF] Hosting environment: Development
2022-11-04 06:18:39.304 +01:00 [INF] Content root path: C:\Users\rtoldi\Desktop\jegyzetek\WebAPI\MagicVilla_API\MagicVilla_API\
2022-11-04 06:18:39.304 +01:00 [DBG] Hosting started
2022-11-04 06:18:39.665 +01:00 [DBG] Connection id "0HMLU4G47JNPB" received FIN.
2022-11-04 06:18:39.671 +01:00 [DBG] Connection id "0HMLU4G47JNPB" accepted.
2022-11-04 06:18:39.672 +01:00 [DBG] Connection id "0HMLU4G47JNPB" started.
2022-11-04 06:18:39.682 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-11-04 06:18:39.706 +01:00 [DBG] Connection id "0HMLU4G47JNPB" stopped.
2022-11-04 06:18:39.709 +01:00 [DBG] Connection id "0HMLU4G47JNPB" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-11-04 06:18:39.873 +01:00 [DBG] Connection id "0HMLU4G47JNPC" accepted.
2022-11-04 06:18:39.873 +01:00 [DBG] Connection id "0HMLU4G47JNPC" started.
2022-11-04 06:18:39.877 +01:00 [DBG] Connection id "0HMLU4G47JNPD" accepted.
2022-11-04 06:18:39.877 +01:00 [DBG] Connection id "0HMLU4G47JNPD" started.
2022-11-04 06:18:39.898 +01:00 [DBG] Connection id "0HMLU4G47JNPD" received FIN.
2022-11-04 06:18:39.905 +01:00 [DBG] Connection 0HMLU4G47JNPC established using the following protocol: "Tls13"
2022-11-04 06:18:39.905 +01:00 [DBG] Connection 0HMLU4G47JNPD established using the following protocol: "Tls13"
2022-11-04 06:18:39.919 +01:00 [DBG] Connection id "0HMLU4G47JNPD" is closed. The last processed stream ID was 0.
2022-11-04 06:18:39.920 +01:00 [DBG] Connection id "0HMLU4G47JNPD" sending FIN because: "The client closed the connection."
2022-11-04 06:18:39.920 +01:00 [DBG] Connection id "0HMLU4G47JNPD" stopped.
2022-11-04 06:18:39.947 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/swagger - -
2022-11-04 06:18:39.975 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-11-04 06:18:39.996 +01:00 [DBG] No candidates found for the request path '/swagger'
2022-11-04 06:18:39.996 +01:00 [DBG] Request did not match any endpoints
2022-11-04 06:18:40.062 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/swagger - - - 301 0 - 117.2900ms
2022-11-04 06:18:40.080 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/swagger/index.html - -
2022-11-04 06:18:40.081 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-11-04 06:18:40.081 +01:00 [DBG] Request did not match any endpoints
2022-11-04 06:18:40.136 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-11-04 06:18:40.251 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-11-04 06:18:40.252 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/swagger/index.html - - - 200 - text/html;charset=utf-8 171.8366ms
2022-11-04 06:18:40.256 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/swagger/swagger-ui.css - -
2022-11-04 06:18:40.256 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2022-11-04 06:18:40.256 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/swagger/swagger-ui-bundle.js - -
2022-11-04 06:18:40.256 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/swagger/swagger-ui-standalone-preset.js - -
2022-11-04 06:18:40.256 +01:00 [DBG] Request did not match any endpoints
2022-11-04 06:18:40.256 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2022-11-04 06:18:40.256 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/_framework/aspnetcore-browser-refresh.js - -
2022-11-04 06:18:40.256 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2022-11-04 06:18:40.256 +01:00 [DBG] Request did not match any endpoints
2022-11-04 06:18:40.256 +01:00 [DBG] Request did not match any endpoints
2022-11-04 06:18:40.260 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/_framework/aspnetcore-browser-refresh.js - - - 200 11998 application/javascript;+charset=utf-8 3.8582ms
2022-11-04 06:18:40.263 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-11-04 06:18:40.264 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-11-04 06:18:40.264 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/swagger/swagger-ui.css - - - 200 143632 text/css 8.0854ms
2022-11-04 06:18:40.264 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 8.0522ms
2022-11-04 06:18:40.276 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-11-04 06:18:40.276 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 20.2467ms
2022-11-04 06:18:40.312 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/_vs/browserLink - -
2022-11-04 06:18:40.342 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.0508ms
2022-11-04 06:18:40.484 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/swagger/v1/swagger.json - -
2022-11-04 06:18:40.484 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-11-04 06:18:40.484 +01:00 [DBG] Request did not match any endpoints
2022-11-04 06:18:40.508 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/swagger/favicon-32x32.png - -
2022-11-04 06:18:40.509 +01:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2022-11-04 06:18:40.509 +01:00 [DBG] Request did not match any endpoints
2022-11-04 06:18:40.509 +01:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-11-04 06:18:40.509 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/swagger/favicon-32x32.png - - - 200 628 image/png 0.9048ms
2022-11-04 06:18:40.657 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 173.2371ms
2022-11-04 06:18:49.605 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/api/v1/VillaNumberAPI - -
2022-11-04 06:18:49.613 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaNumberAPI'
2022-11-04 06:18:49.620 +01:00 [DBG] Endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.GetVillaNumbers (MagicVilla_API)' with route pattern 'api/v{version:apiVersion}/VillaNumberAPI' is valid for the request path '/api/v1/VillaNumberAPI'
2022-11-04 06:18:49.624 +01:00 [DBG] Request matched endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.GetVillaNumbers (MagicVilla_API)'
2022-11-04 06:18:49.624 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-11-04 06:18:49.970 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-11-04 06:18:49.973 +01:00 [INF] Executing endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.GetVillaNumbers (MagicVilla_API)'
2022-11-04 06:18:49.989 +01:00 [INF] Route matched with {action = "GetVillaNumbers", controller = "VillaNumberAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_API.Models.APIResponse]] GetVillaNumbers() on controller MagicVilla_API.Controllers.v1.VillaNumberAPIController (MagicVilla_API).
2022-11-04 06:18:49.990 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-11-04 06:18:49.990 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-11-04 06:18:49.990 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:18:49.990 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-11-04 06:18:49.990 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:18:49.991 +01:00 [DBG] Executing controller factory for controller MagicVilla_API.Controllers.v1.VillaNumberAPIController (MagicVilla_API)
2022-11-04 06:18:50.247 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-11-04 06:18:51.160 +01:00 [INF] Entity Framework Core 6.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.9' with options: None
2022-11-04 06:18:51.283 +01:00 [DBG] Executed controller factory for controller MagicVilla_API.Controllers.v1.VillaNumberAPIController (MagicVilla_API)
2022-11-04 06:18:51.454 +01:00 [DBG] Compiling query expression: 
'DbSet<VillaNumber>()'
2022-11-04 06:18:51.654 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<VillaNumber>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: VillaNumber.VillaNo (int) Required PK AfterSave:Throw, 0], [Property: VillaNumber.CreatedDate (DateTime) Required, 1], [Property: VillaNumber.SpecialDetails (string) Required, 2], [Property: VillaNumber.UpdatedDate (DateTime) Required, 3], [Property: VillaNumber.VillaID (int) Required FK Index, 4] }
        SELECT v.VillaNo, v.CreatedDate, v.SpecialDetails, v.UpdatedDate, v.VillaID
        FROM VillaNumbers AS v), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, VillaNumber>, 
    MagicVilla_API.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2022-11-04 06:18:51.713 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-11-04 06:18:51.753 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2022-11-04 06:18:51.765 +01:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:18:52.250 +01:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:18:52.264 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaID]
FROM [VillaNumbers] AS [v]
2022-11-04 06:18:52.332 +01:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaID]
FROM [VillaNumbers] AS [v]
2022-11-04 06:18:52.360 +01:00 [DBG] A data reader was disposed.
2022-11-04 06:18:52.368 +01:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:18:52.378 +01:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:18:52.379 +01:00 [INF] Getting all villas!
2022-11-04 06:18:52.409 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-11-04 06:18:52.412 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-11-04 06:18:52.412 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-11-04 06:18:52.413 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-04 06:18:52.413 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-04 06:18:52.413 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-04 06:18:52.413 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_API.Models.APIResponse'.
2022-11-04 06:18:52.566 +01:00 [INF] Executed action MagicVilla_API.Controllers.v1.VillaNumberAPIController.GetVillaNumbers (MagicVilla_API) in 2570.8643ms
2022-11-04 06:18:52.567 +01:00 [INF] Executed endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.GetVillaNumbers (MagicVilla_API)'
2022-11-04 06:18:52.573 +01:00 [DBG] 'ApplicationDbContext' disposed.
2022-11-04 06:18:52.576 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/api/v1/VillaNumberAPI - - - 200 66 application/json;+charset=utf-8 2971.2890ms
2022-11-04 06:19:15.237 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/api/v1/VillaNumberAPI/GetString - -
2022-11-04 06:19:15.238 +01:00 [DBG] 2 candidate(s) found for the request path '/api/v1/VillaNumberAPI/GetString'
2022-11-04 06:19:15.238 +01:00 [DBG] Endpoint 'MagicVilla_API.Controllers.v2.VillaNumberAPIController.Get (MagicVilla_API)' with route pattern 'api/v{version:apiVersion}/VillaNumberAPI/GetString' is valid for the request path '/api/v1/VillaNumberAPI/GetString'
2022-11-04 06:19:15.238 +01:00 [DBG] Endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.Get (MagicVilla_API)' with route pattern 'api/v{version:apiVersion}/VillaNumberAPI/GetString' is valid for the request path '/api/v1/VillaNumberAPI/GetString'
2022-11-04 06:19:15.238 +01:00 [DBG] Request matched endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.Get (MagicVilla_API)'
2022-11-04 06:19:15.239 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-11-04 06:19:15.239 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-11-04 06:19:15.239 +01:00 [INF] Executing endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.Get (MagicVilla_API)'
2022-11-04 06:19:15.240 +01:00 [INF] Route matched with {action = "Get", controller = "VillaNumberAPI"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[System.String] Get() on controller MagicVilla_API.Controllers.v1.VillaNumberAPIController (MagicVilla_API).
2022-11-04 06:19:15.240 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-11-04 06:19:15.240 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-11-04 06:19:15.241 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:19:15.241 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-11-04 06:19:15.241 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:19:15.241 +01:00 [DBG] Executing controller factory for controller MagicVilla_API.Controllers.v1.VillaNumberAPIController (MagicVilla_API)
2022-11-04 06:19:15.275 +01:00 [INF] Entity Framework Core 6.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.9' with options: None
2022-11-04 06:19:15.277 +01:00 [DBG] Executed controller factory for controller MagicVilla_API.Controllers.v1.VillaNumberAPIController (MagicVilla_API)
2022-11-04 06:19:15.283 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-11-04 06:19:15.283 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-11-04 06:19:15.283 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-11-04 06:19:15.283 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-04 06:19:15.283 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-04 06:19:15.283 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-04 06:19:15.283 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String[]'.
2022-11-04 06:19:15.287 +01:00 [INF] Executed action MagicVilla_API.Controllers.v1.VillaNumberAPIController.Get (MagicVilla_API) in 45.9979ms
2022-11-04 06:19:15.287 +01:00 [INF] Executed endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.Get (MagicVilla_API)'
2022-11-04 06:19:15.287 +01:00 [DBG] 'ApplicationDbContext' disposed.
2022-11-04 06:19:15.287 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/api/v1/VillaNumberAPI/GetString - - - 200 22 application/json;+charset=utf-8 49.8618ms
2022-11-04 06:19:23.672 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/api/v1/VillaNumberAPI/GetString - -
2022-11-04 06:19:23.672 +01:00 [DBG] 2 candidate(s) found for the request path '/api/v1/VillaNumberAPI/GetString'
2022-11-04 06:19:23.672 +01:00 [DBG] Endpoint 'MagicVilla_API.Controllers.v2.VillaNumberAPIController.Get (MagicVilla_API)' with route pattern 'api/v{version:apiVersion}/VillaNumberAPI/GetString' is valid for the request path '/api/v1/VillaNumberAPI/GetString'
2022-11-04 06:19:23.672 +01:00 [DBG] Endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.Get (MagicVilla_API)' with route pattern 'api/v{version:apiVersion}/VillaNumberAPI/GetString' is valid for the request path '/api/v1/VillaNumberAPI/GetString'
2022-11-04 06:19:23.672 +01:00 [DBG] Request matched endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.Get (MagicVilla_API)'
2022-11-04 06:19:23.672 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-11-04 06:19:23.673 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-11-04 06:19:23.673 +01:00 [INF] Executing endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.Get (MagicVilla_API)'
2022-11-04 06:19:23.674 +01:00 [INF] Route matched with {action = "Get", controller = "VillaNumberAPI"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[System.String] Get() on controller MagicVilla_API.Controllers.v1.VillaNumberAPIController (MagicVilla_API).
2022-11-04 06:19:23.674 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-11-04 06:19:23.674 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-11-04 06:19:23.674 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:19:23.674 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-11-04 06:19:23.674 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:19:23.674 +01:00 [DBG] Executing controller factory for controller MagicVilla_API.Controllers.v1.VillaNumberAPIController (MagicVilla_API)
2022-11-04 06:19:23.685 +01:00 [INF] Entity Framework Core 6.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.9' with options: None
2022-11-04 06:19:23.686 +01:00 [DBG] Executed controller factory for controller MagicVilla_API.Controllers.v1.VillaNumberAPIController (MagicVilla_API)
2022-11-04 06:19:23.686 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-11-04 06:19:23.686 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-11-04 06:19:23.686 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-04 06:19:23.686 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String[]'.
2022-11-04 06:19:23.686 +01:00 [INF] Executed action MagicVilla_API.Controllers.v1.VillaNumberAPIController.Get (MagicVilla_API) in 11.9492ms
2022-11-04 06:19:23.686 +01:00 [INF] Executed endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.Get (MagicVilla_API)'
2022-11-04 06:19:23.686 +01:00 [DBG] 'ApplicationDbContext' disposed.
2022-11-04 06:19:23.686 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/api/v1/VillaNumberAPI/GetString - - - 200 22 application/json;+charset=utf-8 14.8932ms
2022-11-04 06:19:27.834 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/api/v1/VillaNumberAPI/GetString - -
2022-11-04 06:19:27.834 +01:00 [DBG] 2 candidate(s) found for the request path '/api/v1/VillaNumberAPI/GetString'
2022-11-04 06:19:27.834 +01:00 [DBG] Endpoint 'MagicVilla_API.Controllers.v2.VillaNumberAPIController.Get (MagicVilla_API)' with route pattern 'api/v{version:apiVersion}/VillaNumberAPI/GetString' is valid for the request path '/api/v1/VillaNumberAPI/GetString'
2022-11-04 06:19:27.834 +01:00 [DBG] Endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.Get (MagicVilla_API)' with route pattern 'api/v{version:apiVersion}/VillaNumberAPI/GetString' is valid for the request path '/api/v1/VillaNumberAPI/GetString'
2022-11-04 06:19:27.834 +01:00 [DBG] Request matched endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.Get (MagicVilla_API)'
2022-11-04 06:19:27.834 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-11-04 06:19:27.834 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-11-04 06:19:27.834 +01:00 [INF] Executing endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.Get (MagicVilla_API)'
2022-11-04 06:19:27.834 +01:00 [INF] Route matched with {action = "Get", controller = "VillaNumberAPI"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[System.String] Get() on controller MagicVilla_API.Controllers.v1.VillaNumberAPIController (MagicVilla_API).
2022-11-04 06:19:27.834 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-11-04 06:19:27.834 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-11-04 06:19:27.835 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:19:27.835 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-11-04 06:19:27.835 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:19:27.835 +01:00 [DBG] Executing controller factory for controller MagicVilla_API.Controllers.v1.VillaNumberAPIController (MagicVilla_API)
2022-11-04 06:19:27.835 +01:00 [INF] Entity Framework Core 6.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.9' with options: None
2022-11-04 06:19:27.835 +01:00 [DBG] Executed controller factory for controller MagicVilla_API.Controllers.v1.VillaNumberAPIController (MagicVilla_API)
2022-11-04 06:19:27.835 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-11-04 06:19:27.835 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2022-11-04 06:19:27.835 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2022-11-04 06:19:27.835 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String[]'.
2022-11-04 06:19:27.842 +01:00 [INF] Executed action MagicVilla_API.Controllers.v1.VillaNumberAPIController.Get (MagicVilla_API) in 7.2239ms
2022-11-04 06:19:27.842 +01:00 [INF] Executed endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.Get (MagicVilla_API)'
2022-11-04 06:19:27.842 +01:00 [DBG] 'ApplicationDbContext' disposed.
2022-11-04 06:19:27.842 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/api/v1/VillaNumberAPI/GetString - - - 200 198 application/xml;+charset=utf-8 8.5573ms
2022-11-04 06:20:26.184 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7188/api/v1/UserAuth/login application/json-patch+json 50
2022-11-04 06:20:26.188 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/login'
2022-11-04 06:20:26.189 +01:00 [DBG] Endpoint 'MagicVilla_API.Controllers.UsersController.Login (MagicVilla_API)' with route pattern 'api/v{version:apiVersion}/UserAuth/login' is valid for the request path '/api/v1/UserAuth/login'
2022-11-04 06:20:26.189 +01:00 [DBG] Request matched endpoint 'MagicVilla_API.Controllers.UsersController.Login (MagicVilla_API)'
2022-11-04 06:20:26.191 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-11-04 06:20:26.191 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-11-04 06:20:26.193 +01:00 [INF] Executing endpoint 'MagicVilla_API.Controllers.UsersController.Login (MagicVilla_API)'
2022-11-04 06:20:26.212 +01:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_API.Models.DTO.LoginRequestDTO) on controller MagicVilla_API.Controllers.UsersController (MagicVilla_API).
2022-11-04 06:20:26.212 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-11-04 06:20:26.212 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-11-04 06:20:26.212 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:20:26.212 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-11-04 06:20:26.212 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:20:26.212 +01:00 [DBG] Executing controller factory for controller MagicVilla_API.Controllers.UsersController (MagicVilla_API)
2022-11-04 06:20:26.213 +01:00 [DBG] Executed controller factory for controller MagicVilla_API.Controllers.UsersController (MagicVilla_API)
2022-11-04 06:20:26.217 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_API.Models.DTO.LoginRequestDTO' ...
2022-11-04 06:20:26.220 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_API.Models.DTO.LoginRequestDTO' using the name '' in request data ...
2022-11-04 06:20:26.221 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-11-04 06:20:26.221 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-11-04 06:20:26.229 +01:00 [DBG] Connection id "0HMLU4G47JNPC", Request id "0HMLU4G47JNPC:0000001B": started reading request body.
2022-11-04 06:20:26.230 +01:00 [DBG] Connection id "0HMLU4G47JNPC", Request id "0HMLU4G47JNPC:0000001B": done reading request body.
2022-11-04 06:20:26.272 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_API.Models.DTO.LoginRequestDTO'.
2022-11-04 06:20:26.272 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_API.Models.DTO.LoginRequestDTO'.
2022-11-04 06:20:26.272 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_API.Models.DTO.LoginRequestDTO' ...
2022-11-04 06:20:26.279 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_API.Models.DTO.LoginRequestDTO'.
2022-11-04 06:20:26.284 +01:00 [INF] Entity Framework Core 6.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.9' with options: None
2022-11-04 06:20:26.302 +01:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0 && u.Password == __loginResuestDTO_Password_1)'
2022-11-04 06:20:26.499 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginResuestDTO_Password_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    MagicVilla_API.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-11-04 06:20:26.524 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-11-04 06:20:26.525 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-11-04 06:20:26.531 +01:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:20:26.536 +01:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:20:26.543 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginResuestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE (LOWER([l].[UserName]) = @__ToLower_0) AND ([l].[Password] = @__loginResuestDTO_Password_1)
2022-11-04 06:20:26.581 +01:00 [INF] Executed DbCommand (44ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginResuestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE (LOWER([l].[UserName]) = @__ToLower_0) AND ([l].[Password] = @__loginResuestDTO_Password_1)
2022-11-04 06:20:26.603 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:20:26.635 +01:00 [DBG] A data reader was disposed.
2022-11-04 06:20:26.637 +01:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:20:26.638 +01:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:20:26.839 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-11-04 06:20:26.839 +01:00 [DBG] No information found on request to perform content negotiation.
2022-11-04 06:20:26.839 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-04 06:20:26.839 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-04 06:20:26.840 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-04 06:20:26.840 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_API.Models.APIResponse'.
2022-11-04 06:20:26.842 +01:00 [INF] Executed action MagicVilla_API.Controllers.UsersController.Login (MagicVilla_API) in 630.1512ms
2022-11-04 06:20:26.842 +01:00 [INF] Executed endpoint 'MagicVilla_API.Controllers.UsersController.Login (MagicVilla_API)'
2022-11-04 06:20:26.842 +01:00 [DBG] 'ApplicationDbContext' disposed.
2022-11-04 06:20:26.843 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7188/api/v1/UserAuth/login application/json-patch+json 50 - 200 355 application/json;+charset=utf-8 658.7032ms
2022-11-04 06:20:57.337 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/api/v1/VillaAPI?pageSize=0&pageNumber=1 - -
2022-11-04 06:20:57.338 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaAPI'
2022-11-04 06:20:57.338 +01:00 [DBG] Endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API)' with route pattern 'api/v{version:apiVersion}/VillaAPI' is valid for the request path '/api/v1/VillaAPI'
2022-11-04 06:20:57.338 +01:00 [DBG] Request matched endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API)'
2022-11-04 06:20:57.348 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-11-04 06:20:57.419 +01:00 [DBG] Successfully validated the token.
2022-11-04 06:20:57.420 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-11-04 06:20:57.421 +01:00 [INF] Executing endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API)'
2022-11-04 06:20:57.424 +01:00 [INF] Route matched with {action = "GetVillas", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_API.Models.APIResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, Int32, Int32) on controller MagicVilla_API.Controllers.v1.VillaAPIController (MagicVilla_API).
2022-11-04 06:20:57.424 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-11-04 06:20:57.424 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-11-04 06:20:57.424 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-11-04 06:20:57.424 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-11-04 06:20:57.424 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:20:57.425 +01:00 [DBG] Executing controller factory for controller MagicVilla_API.Controllers.v1.VillaAPIController (MagicVilla_API)
2022-11-04 06:20:57.425 +01:00 [INF] Entity Framework Core 6.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.9' with options: None
2022-11-04 06:20:57.425 +01:00 [DBG] Executed controller factory for controller MagicVilla_API.Controllers.v1.VillaAPIController (MagicVilla_API)
2022-11-04 06:20:57.426 +01:00 [DBG] Attempting to bind parameter 'occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-11-04 06:20:57.426 +01:00 [DBG] Attempting to bind parameter 'occupancy' of type 'System.Nullable`1[System.Int32]' using the name 'FilterOccupancy' in request data ...
2022-11-04 06:20:57.426 +01:00 [DBG] Could not find a value in the request with name 'FilterOccupancy' for binding parameter 'occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-11-04 06:20:57.427 +01:00 [DBG] Done attempting to bind parameter 'occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-11-04 06:20:57.427 +01:00 [DBG] Done attempting to bind parameter 'occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-11-04 06:20:57.427 +01:00 [DBG] Attempting to validate the bound parameter 'occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-11-04 06:20:57.427 +01:00 [DBG] Done attempting to validate the bound parameter 'occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-11-04 06:20:57.427 +01:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2022-11-04 06:20:57.428 +01:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ...
2022-11-04 06:20:57.428 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'.
2022-11-04 06:20:57.428 +01:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2022-11-04 06:20:57.428 +01:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2022-11-04 06:20:57.428 +01:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2022-11-04 06:20:57.428 +01:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2022-11-04 06:20:57.428 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2022-11-04 06:20:57.428 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2022-11-04 06:20:57.428 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-11-04 06:20:57.428 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-11-04 06:20:57.428 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2022-11-04 06:20:57.429 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2022-11-04 06:20:57.429 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2022-11-04 06:20:57.429 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2022-11-04 06:20:57.429 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-11-04 06:20:57.429 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-11-04 06:20:57.429 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2022-11-04 06:20:57.429 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2022-11-04 06:20:57.431 +01:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2022-11-04 06:20:57.434 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
        FROM Villas AS v), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_API.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2022-11-04 06:20:57.434 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-11-04 06:20:57.434 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-11-04 06:20:57.434 +01:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:20:57.435 +01:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:20:57.435 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-11-04 06:20:57.438 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-11-04 06:20:57.447 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:20:57.464 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:20:57.464 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:20:57.464 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:20:57.464 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:20:57.464 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:20:57.464 +01:00 [DBG] A data reader was disposed.
2022-11-04 06:20:57.464 +01:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:20:57.464 +01:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:20:57.465 +01:00 [INF] Getting all villas!
2022-11-04 06:20:57.470 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-11-04 06:20:57.470 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-11-04 06:20:57.470 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-11-04 06:20:57.470 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-04 06:20:57.470 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-04 06:20:57.470 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-04 06:20:57.470 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_API.Models.APIResponse'.
2022-11-04 06:20:57.474 +01:00 [INF] Executed action MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API) in 49.7926ms
2022-11-04 06:20:57.474 +01:00 [INF] Executed endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API)'
2022-11-04 06:20:57.475 +01:00 [DBG] 'ApplicationDbContext' disposed.
2022-11-04 06:20:57.475 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/api/v1/VillaAPI?pageSize=0&pageNumber=1 - - - 200 1701 application/json;+charset=utf-8 138.8967ms
2022-11-04 06:21:29.573 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/api/v1/VillaAPI?pageSize=0&pageNumber=1 - -
2022-11-04 06:21:29.574 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaAPI'
2022-11-04 06:21:29.574 +01:00 [DBG] Endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API)' with route pattern 'api/v{version:apiVersion}/VillaAPI' is valid for the request path '/api/v1/VillaAPI'
2022-11-04 06:21:29.574 +01:00 [DBG] Request matched endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API)'
2022-11-04 06:21:29.575 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-11-04 06:21:29.597 +01:00 [DBG] Successfully validated the token.
2022-11-04 06:21:29.597 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-11-04 06:21:29.597 +01:00 [INF] Executing endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API)'
2022-11-04 06:21:29.597 +01:00 [INF] Route matched with {action = "GetVillas", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_API.Models.APIResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, Int32, Int32) on controller MagicVilla_API.Controllers.v1.VillaAPIController (MagicVilla_API).
2022-11-04 06:21:29.597 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-11-04 06:21:29.597 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-11-04 06:21:29.598 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-11-04 06:21:29.598 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-11-04 06:21:29.598 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:21:29.598 +01:00 [DBG] Executing controller factory for controller MagicVilla_API.Controllers.v1.VillaAPIController (MagicVilla_API)
2022-11-04 06:21:29.598 +01:00 [INF] Entity Framework Core 6.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.9' with options: None
2022-11-04 06:21:29.598 +01:00 [DBG] Executed controller factory for controller MagicVilla_API.Controllers.v1.VillaAPIController (MagicVilla_API)
2022-11-04 06:21:29.599 +01:00 [DBG] Attempting to bind parameter 'occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-11-04 06:21:29.599 +01:00 [DBG] Attempting to bind parameter 'occupancy' of type 'System.Nullable`1[System.Int32]' using the name 'FilterOccupancy' in request data ...
2022-11-04 06:21:29.599 +01:00 [DBG] Could not find a value in the request with name 'FilterOccupancy' for binding parameter 'occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-11-04 06:21:29.599 +01:00 [DBG] Done attempting to bind parameter 'occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-11-04 06:21:29.599 +01:00 [DBG] Done attempting to bind parameter 'occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-11-04 06:21:29.599 +01:00 [DBG] Attempting to validate the bound parameter 'occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-11-04 06:21:29.599 +01:00 [DBG] Done attempting to validate the bound parameter 'occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-11-04 06:21:29.599 +01:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2022-11-04 06:21:29.599 +01:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ...
2022-11-04 06:21:29.599 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'.
2022-11-04 06:21:29.599 +01:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2022-11-04 06:21:29.599 +01:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2022-11-04 06:21:29.599 +01:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2022-11-04 06:21:29.599 +01:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2022-11-04 06:21:29.599 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2022-11-04 06:21:29.599 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2022-11-04 06:21:29.599 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-11-04 06:21:29.599 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-11-04 06:21:29.599 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2022-11-04 06:21:29.599 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2022-11-04 06:21:29.599 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2022-11-04 06:21:29.599 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2022-11-04 06:21:29.599 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-11-04 06:21:29.599 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-11-04 06:21:29.599 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2022-11-04 06:21:29.599 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2022-11-04 06:21:29.600 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-11-04 06:21:29.600 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-11-04 06:21:29.600 +01:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:21:29.600 +01:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:21:29.600 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-11-04 06:21:29.601 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-11-04 06:21:29.601 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:21:29.602 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:21:29.602 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:21:29.602 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:21:29.602 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:21:29.602 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:21:29.602 +01:00 [DBG] A data reader was disposed.
2022-11-04 06:21:29.602 +01:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:21:29.602 +01:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:21:29.603 +01:00 [INF] Getting all villas!
2022-11-04 06:21:29.603 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-11-04 06:21:29.603 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2022-11-04 06:21:29.603 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2022-11-04 06:21:29.603 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_API.Models.APIResponse'.
2022-11-04 06:21:29.610 +01:00 [INF] Executed action MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API) in 11.9513ms
2022-11-04 06:21:29.610 +01:00 [INF] Executed endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API)'
2022-11-04 06:21:29.611 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Runtime.Serialization.SerializationException: Type 'System.Collections.Generic.List`1[[MagicVilla_API.Models.DTO.VillaDTO, MagicVilla_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]' with data contract name 'ArrayOfVillaDTO:http://schemas.datacontract.org/2004/07/MagicVilla_API.Models.DTO' is not expected. Add any types not known statically to the list of known types - for example, by using the KnownTypeAttribute attribute or by adding them to the list of known types passed to DataContractSerializer.
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.SerializeAndVerifyType(DataContract dataContract, XmlWriterDelegator xmlWriter, Object obj, Boolean verifyKnownType, RuntimeTypeHandle declaredTypeHandle, Type declaredType)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.SerializeWithXsiType(XmlWriterDelegator xmlWriter, Object obj, RuntimeTypeHandle objectTypeHandle, Type objectType, Int32 declaredTypeID, RuntimeTypeHandle declaredTypeHandle, Type declaredType)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.InternalSerialize(XmlWriterDelegator xmlWriter, Object obj, Boolean isDeclaredType, Boolean writeXsiType, Int32 declaredTypeID, RuntimeTypeHandle declaredTypeHandle)
   at WriteAPIResponseToXml(XmlWriterDelegator , Object , XmlObjectSerializerWriteContext , ClassDataContract )
   at System.Runtime.Serialization.ClassDataContract.WriteXmlValue(XmlWriterDelegator xmlWriter, Object obj, XmlObjectSerializerWriteContext context)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.WriteDataContractValue(DataContract dataContract, XmlWriterDelegator xmlWriter, Object obj, RuntimeTypeHandle declaredTypeHandle)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.SerializeWithoutXsiType(DataContract dataContract, XmlWriterDelegator xmlWriter, Object obj, RuntimeTypeHandle declaredTypeHandle)
   at System.Runtime.Serialization.DataContractSerializer.InternalWriteObjectContent(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.DataContractSerializer.InternalWriteObject(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.XmlObjectSerializer.WriteObjectHandleExceptions(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.DataContractSerializer.WriteObject(XmlWriter writer, Object graph)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-11-04 06:21:29.617 +01:00 [DBG] 'ApplicationDbContext' disposed.
2022-11-04 06:21:29.617 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/api/v1/VillaAPI?pageSize=0&pageNumber=1 - - - 500 - text/plain;+charset=utf-8 43.9359ms
2022-11-04 06:23:15.473 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/api/v1/VillaAPI?pageSize=0&pageNumber=1 - -
2022-11-04 06:23:15.475 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaAPI'
2022-11-04 06:23:15.475 +01:00 [DBG] Endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API)' with route pattern 'api/v{version:apiVersion}/VillaAPI' is valid for the request path '/api/v1/VillaAPI'
2022-11-04 06:23:15.476 +01:00 [DBG] Request matched endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API)'
2022-11-04 06:23:15.476 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-11-04 06:23:15.478 +01:00 [DBG] Successfully validated the token.
2022-11-04 06:23:15.479 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-11-04 06:23:15.480 +01:00 [INF] Executing endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API)'
2022-11-04 06:23:15.480 +01:00 [INF] Route matched with {action = "GetVillas", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_API.Models.APIResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, Int32, Int32) on controller MagicVilla_API.Controllers.v1.VillaAPIController (MagicVilla_API).
2022-11-04 06:23:15.481 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-11-04 06:23:15.481 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-11-04 06:23:15.481 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-11-04 06:23:15.481 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-11-04 06:23:15.481 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:23:15.481 +01:00 [DBG] Executing controller factory for controller MagicVilla_API.Controllers.v1.VillaAPIController (MagicVilla_API)
2022-11-04 06:23:15.482 +01:00 [INF] Entity Framework Core 6.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.9' with options: None
2022-11-04 06:23:15.482 +01:00 [DBG] Executed controller factory for controller MagicVilla_API.Controllers.v1.VillaAPIController (MagicVilla_API)
2022-11-04 06:23:15.482 +01:00 [DBG] Attempting to bind parameter 'occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-11-04 06:23:15.482 +01:00 [DBG] Attempting to bind parameter 'occupancy' of type 'System.Nullable`1[System.Int32]' using the name 'FilterOccupancy' in request data ...
2022-11-04 06:23:15.482 +01:00 [DBG] Could not find a value in the request with name 'FilterOccupancy' for binding parameter 'occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-11-04 06:23:15.482 +01:00 [DBG] Done attempting to bind parameter 'occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-11-04 06:23:15.482 +01:00 [DBG] Done attempting to bind parameter 'occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-11-04 06:23:15.482 +01:00 [DBG] Attempting to validate the bound parameter 'occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-11-04 06:23:15.482 +01:00 [DBG] Done attempting to validate the bound parameter 'occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-11-04 06:23:15.482 +01:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2022-11-04 06:23:15.482 +01:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ...
2022-11-04 06:23:15.482 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'.
2022-11-04 06:23:15.482 +01:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2022-11-04 06:23:15.482 +01:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2022-11-04 06:23:15.482 +01:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2022-11-04 06:23:15.482 +01:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2022-11-04 06:23:15.482 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2022-11-04 06:23:15.482 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2022-11-04 06:23:15.482 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-11-04 06:23:15.483 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-11-04 06:23:15.483 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2022-11-04 06:23:15.483 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2022-11-04 06:23:15.483 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2022-11-04 06:23:15.483 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2022-11-04 06:23:15.483 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-11-04 06:23:15.483 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-11-04 06:23:15.483 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2022-11-04 06:23:15.483 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2022-11-04 06:23:15.483 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-11-04 06:23:15.483 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-11-04 06:23:15.483 +01:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:23:15.483 +01:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:23:15.483 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-11-04 06:23:15.484 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-11-04 06:23:15.484 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:23:15.485 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:23:15.485 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:23:15.485 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:23:15.485 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:23:15.485 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:23:15.485 +01:00 [DBG] A data reader was disposed.
2022-11-04 06:23:15.485 +01:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:23:15.485 +01:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:23:15.485 +01:00 [INF] Getting all villas!
2022-11-04 06:23:15.485 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-11-04 06:23:15.485 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/xml"]'.
2022-11-04 06:23:15.485 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'text/xml' to write the response.
2022-11-04 06:23:15.485 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_API.Models.APIResponse'.
2022-11-04 06:23:15.486 +01:00 [INF] Executed action MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API) in 4.9538ms
2022-11-04 06:23:15.487 +01:00 [INF] Executed endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API)'
2022-11-04 06:23:15.487 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Runtime.Serialization.SerializationException: Type 'System.Collections.Generic.List`1[[MagicVilla_API.Models.DTO.VillaDTO, MagicVilla_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]' with data contract name 'ArrayOfVillaDTO:http://schemas.datacontract.org/2004/07/MagicVilla_API.Models.DTO' is not expected. Add any types not known statically to the list of known types - for example, by using the KnownTypeAttribute attribute or by adding them to the list of known types passed to DataContractSerializer.
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.SerializeAndVerifyType(DataContract dataContract, XmlWriterDelegator xmlWriter, Object obj, Boolean verifyKnownType, RuntimeTypeHandle declaredTypeHandle, Type declaredType)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.SerializeWithXsiType(XmlWriterDelegator xmlWriter, Object obj, RuntimeTypeHandle objectTypeHandle, Type objectType, Int32 declaredTypeID, RuntimeTypeHandle declaredTypeHandle, Type declaredType)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.InternalSerialize(XmlWriterDelegator xmlWriter, Object obj, Boolean isDeclaredType, Boolean writeXsiType, Int32 declaredTypeID, RuntimeTypeHandle declaredTypeHandle)
   at WriteAPIResponseToXml(XmlWriterDelegator , Object , XmlObjectSerializerWriteContext , ClassDataContract )
   at System.Runtime.Serialization.ClassDataContract.WriteXmlValue(XmlWriterDelegator xmlWriter, Object obj, XmlObjectSerializerWriteContext context)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.WriteDataContractValue(DataContract dataContract, XmlWriterDelegator xmlWriter, Object obj, RuntimeTypeHandle declaredTypeHandle)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.SerializeWithoutXsiType(DataContract dataContract, XmlWriterDelegator xmlWriter, Object obj, RuntimeTypeHandle declaredTypeHandle)
   at System.Runtime.Serialization.DataContractSerializer.InternalWriteObjectContent(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.DataContractSerializer.InternalWriteObject(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.XmlObjectSerializer.WriteObjectHandleExceptions(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.DataContractSerializer.WriteObject(XmlWriter writer, Object graph)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-11-04 06:23:15.489 +01:00 [DBG] 'ApplicationDbContext' disposed.
2022-11-04 06:23:15.489 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/api/v1/VillaAPI?pageSize=0&pageNumber=1 - - - 500 - text/plain;+charset=utf-8 15.3583ms
2022-11-04 06:23:22.416 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/api/v1/VillaAPI?pageSize=0&pageNumber=1 - -
2022-11-04 06:23:22.416 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaAPI'
2022-11-04 06:23:22.416 +01:00 [DBG] Endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API)' with route pattern 'api/v{version:apiVersion}/VillaAPI' is valid for the request path '/api/v1/VillaAPI'
2022-11-04 06:23:22.416 +01:00 [DBG] Request matched endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API)'
2022-11-04 06:23:22.416 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-11-04 06:23:22.416 +01:00 [DBG] Successfully validated the token.
2022-11-04 06:23:22.416 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-11-04 06:23:22.417 +01:00 [INF] Executing endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API)'
2022-11-04 06:23:22.417 +01:00 [INF] Route matched with {action = "GetVillas", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_API.Models.APIResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, Int32, Int32) on controller MagicVilla_API.Controllers.v1.VillaAPIController (MagicVilla_API).
2022-11-04 06:23:22.417 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-11-04 06:23:22.417 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-11-04 06:23:22.417 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-11-04 06:23:22.417 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-11-04 06:23:22.417 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:23:22.417 +01:00 [DBG] Executing controller factory for controller MagicVilla_API.Controllers.v1.VillaAPIController (MagicVilla_API)
2022-11-04 06:23:22.417 +01:00 [INF] Entity Framework Core 6.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.9' with options: None
2022-11-04 06:23:22.418 +01:00 [DBG] Executed controller factory for controller MagicVilla_API.Controllers.v1.VillaAPIController (MagicVilla_API)
2022-11-04 06:23:22.418 +01:00 [DBG] Attempting to bind parameter 'occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-11-04 06:23:22.418 +01:00 [DBG] Attempting to bind parameter 'occupancy' of type 'System.Nullable`1[System.Int32]' using the name 'FilterOccupancy' in request data ...
2022-11-04 06:23:22.418 +01:00 [DBG] Could not find a value in the request with name 'FilterOccupancy' for binding parameter 'occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-11-04 06:23:22.418 +01:00 [DBG] Done attempting to bind parameter 'occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-11-04 06:23:22.418 +01:00 [DBG] Done attempting to bind parameter 'occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-11-04 06:23:22.418 +01:00 [DBG] Attempting to validate the bound parameter 'occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-11-04 06:23:22.418 +01:00 [DBG] Done attempting to validate the bound parameter 'occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-11-04 06:23:22.418 +01:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2022-11-04 06:23:22.418 +01:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ...
2022-11-04 06:23:22.418 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'.
2022-11-04 06:23:22.418 +01:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2022-11-04 06:23:22.418 +01:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2022-11-04 06:23:22.418 +01:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2022-11-04 06:23:22.418 +01:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2022-11-04 06:23:22.418 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2022-11-04 06:23:22.418 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2022-11-04 06:23:22.418 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-11-04 06:23:22.418 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-11-04 06:23:22.418 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2022-11-04 06:23:22.418 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2022-11-04 06:23:22.418 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2022-11-04 06:23:22.418 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2022-11-04 06:23:22.418 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-11-04 06:23:22.418 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-11-04 06:23:22.418 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2022-11-04 06:23:22.418 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2022-11-04 06:23:22.418 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-11-04 06:23:22.418 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-11-04 06:23:22.418 +01:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:23:22.418 +01:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:23:22.418 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-11-04 06:23:22.419 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-11-04 06:23:22.420 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:23:22.420 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:23:22.420 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:23:22.420 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:23:22.420 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:23:22.420 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:23:22.420 +01:00 [DBG] A data reader was disposed.
2022-11-04 06:23:22.420 +01:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:23:22.421 +01:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:23:22.421 +01:00 [INF] Getting all villas!
2022-11-04 06:23:22.421 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-11-04 06:23:22.421 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-11-04 06:23:22.421 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-04 06:23:22.421 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_API.Models.APIResponse'.
2022-11-04 06:23:22.421 +01:00 [INF] Executed action MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API) in 4.0126ms
2022-11-04 06:23:22.421 +01:00 [INF] Executed endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API)'
2022-11-04 06:23:22.421 +01:00 [DBG] 'ApplicationDbContext' disposed.
2022-11-04 06:23:22.421 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/api/v1/VillaAPI?pageSize=0&pageNumber=1 - - - 200 1701 application/json;+charset=utf-8 5.3950ms
2022-11-04 06:23:54.943 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/api/v1/VillaAPI?pageSize=0&pageNumber=1 - -
2022-11-04 06:23:54.943 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaAPI'
2022-11-04 06:23:54.943 +01:00 [DBG] Endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API)' with route pattern 'api/v{version:apiVersion}/VillaAPI' is valid for the request path '/api/v1/VillaAPI'
2022-11-04 06:23:54.943 +01:00 [DBG] Request matched endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API)'
2022-11-04 06:23:54.944 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-11-04 06:23:54.946 +01:00 [DBG] Successfully validated the token.
2022-11-04 06:23:54.947 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-11-04 06:23:54.947 +01:00 [INF] Executing endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API)'
2022-11-04 06:23:54.948 +01:00 [INF] Route matched with {action = "GetVillas", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_API.Models.APIResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, Int32, Int32) on controller MagicVilla_API.Controllers.v1.VillaAPIController (MagicVilla_API).
2022-11-04 06:23:54.948 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-11-04 06:23:54.948 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-11-04 06:23:54.949 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-11-04 06:23:54.949 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-11-04 06:23:54.949 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:23:54.949 +01:00 [DBG] Executing controller factory for controller MagicVilla_API.Controllers.v1.VillaAPIController (MagicVilla_API)
2022-11-04 06:23:54.949 +01:00 [INF] Entity Framework Core 6.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.9' with options: None
2022-11-04 06:23:54.949 +01:00 [DBG] Executed controller factory for controller MagicVilla_API.Controllers.v1.VillaAPIController (MagicVilla_API)
2022-11-04 06:23:54.949 +01:00 [DBG] Attempting to bind parameter 'occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-11-04 06:23:54.949 +01:00 [DBG] Attempting to bind parameter 'occupancy' of type 'System.Nullable`1[System.Int32]' using the name 'FilterOccupancy' in request data ...
2022-11-04 06:23:54.949 +01:00 [DBG] Could not find a value in the request with name 'FilterOccupancy' for binding parameter 'occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-11-04 06:23:54.949 +01:00 [DBG] Done attempting to bind parameter 'occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-11-04 06:23:54.949 +01:00 [DBG] Done attempting to bind parameter 'occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-11-04 06:23:54.949 +01:00 [DBG] Attempting to validate the bound parameter 'occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-11-04 06:23:54.949 +01:00 [DBG] Done attempting to validate the bound parameter 'occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-11-04 06:23:54.949 +01:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2022-11-04 06:23:54.950 +01:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ...
2022-11-04 06:23:54.950 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'.
2022-11-04 06:23:54.950 +01:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2022-11-04 06:23:54.950 +01:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2022-11-04 06:23:54.950 +01:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2022-11-04 06:23:54.950 +01:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2022-11-04 06:23:54.950 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2022-11-04 06:23:54.950 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2022-11-04 06:23:54.950 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-11-04 06:23:54.950 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2022-11-04 06:23:54.950 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2022-11-04 06:23:54.950 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2022-11-04 06:23:54.950 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2022-11-04 06:23:54.950 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2022-11-04 06:23:54.950 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-11-04 06:23:54.950 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2022-11-04 06:23:54.950 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2022-11-04 06:23:54.950 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2022-11-04 06:23:54.950 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-11-04 06:23:54.950 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-11-04 06:23:54.950 +01:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:23:54.950 +01:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:23:54.950 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-11-04 06:23:54.951 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-11-04 06:23:54.952 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:23:54.952 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:23:54.952 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:23:54.952 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:23:54.952 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:23:54.952 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:23:54.952 +01:00 [DBG] A data reader was disposed.
2022-11-04 06:23:54.952 +01:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:23:54.952 +01:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:23:54.952 +01:00 [INF] Getting all villas!
2022-11-04 06:23:54.952 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-11-04 06:23:54.953 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2022-11-04 06:23:54.953 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2022-11-04 06:23:54.953 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_API.Models.APIResponse'.
2022-11-04 06:23:54.953 +01:00 [INF] Executed action MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API) in 4.7529ms
2022-11-04 06:23:54.954 +01:00 [INF] Executed endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVillas (MagicVilla_API)'
2022-11-04 06:23:54.954 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Runtime.Serialization.SerializationException: Type 'System.Collections.Generic.List`1[[MagicVilla_API.Models.DTO.VillaDTO, MagicVilla_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]' with data contract name 'ArrayOfVillaDTO:http://schemas.datacontract.org/2004/07/MagicVilla_API.Models.DTO' is not expected. Add any types not known statically to the list of known types - for example, by using the KnownTypeAttribute attribute or by adding them to the list of known types passed to DataContractSerializer.
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.SerializeAndVerifyType(DataContract dataContract, XmlWriterDelegator xmlWriter, Object obj, Boolean verifyKnownType, RuntimeTypeHandle declaredTypeHandle, Type declaredType)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.SerializeWithXsiType(XmlWriterDelegator xmlWriter, Object obj, RuntimeTypeHandle objectTypeHandle, Type objectType, Int32 declaredTypeID, RuntimeTypeHandle declaredTypeHandle, Type declaredType)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.InternalSerialize(XmlWriterDelegator xmlWriter, Object obj, Boolean isDeclaredType, Boolean writeXsiType, Int32 declaredTypeID, RuntimeTypeHandle declaredTypeHandle)
   at WriteAPIResponseToXml(XmlWriterDelegator , Object , XmlObjectSerializerWriteContext , ClassDataContract )
   at System.Runtime.Serialization.ClassDataContract.WriteXmlValue(XmlWriterDelegator xmlWriter, Object obj, XmlObjectSerializerWriteContext context)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.WriteDataContractValue(DataContract dataContract, XmlWriterDelegator xmlWriter, Object obj, RuntimeTypeHandle declaredTypeHandle)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.SerializeWithoutXsiType(DataContract dataContract, XmlWriterDelegator xmlWriter, Object obj, RuntimeTypeHandle declaredTypeHandle)
   at System.Runtime.Serialization.DataContractSerializer.InternalWriteObjectContent(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.DataContractSerializer.InternalWriteObject(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.XmlObjectSerializer.WriteObjectHandleExceptions(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.DataContractSerializer.WriteObject(XmlWriter writer, Object graph)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-11-04 06:23:54.956 +01:00 [DBG] 'ApplicationDbContext' disposed.
2022-11-04 06:23:54.956 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/api/v1/VillaAPI?pageSize=0&pageNumber=1 - - - 500 - text/plain;+charset=utf-8 13.0626ms
2022-11-04 06:27:34.138 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-11-04 06:27:34.259 +01:00 [DBG] Hosting starting
2022-11-04 06:27:34.288 +01:00 [INF] User profile is available. Using 'C:\Users\rtoldi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-04 06:27:34.291 +01:00 [DBG] Reading data from file 'C:\Users\rtoldi\AppData\Local\ASP.NET\DataProtection-Keys\key-27159ef2-17f2-4c5f-9c9d-f3350ac98bb9.xml'.
2022-11-04 06:27:34.295 +01:00 [DBG] Reading data from file 'C:\Users\rtoldi\AppData\Local\ASP.NET\DataProtection-Keys\key-33f6f038-2136-422e-b328-87ca68eb2e95.xml'.
2022-11-04 06:27:34.295 +01:00 [DBG] Reading data from file 'C:\Users\rtoldi\AppData\Local\ASP.NET\DataProtection-Keys\key-95d9bb65-0f17-4b4a-91db-ad33ee17bdfd.xml'.
2022-11-04 06:27:34.295 +01:00 [DBG] Reading data from file 'C:\Users\rtoldi\AppData\Local\ASP.NET\DataProtection-Keys\key-ca5418d9-ee4c-4ba0-8c55-fe7be64fcdab.xml'.
2022-11-04 06:27:34.300 +01:00 [DBG] Found key {27159ef2-17f2-4c5f-9c9d-f3350ac98bb9}.
2022-11-04 06:27:34.305 +01:00 [DBG] Found key {33f6f038-2136-422e-b328-87ca68eb2e95}.
2022-11-04 06:27:34.305 +01:00 [DBG] Found key {95d9bb65-0f17-4b4a-91db-ad33ee17bdfd}.
2022-11-04 06:27:34.305 +01:00 [DBG] Found key {ca5418d9-ee4c-4ba0-8c55-fe7be64fcdab}.
2022-11-04 06:27:34.314 +01:00 [DBG] Considering key {ca5418d9-ee4c-4ba0-8c55-fe7be64fcdab} with expiration date 2023-01-22 16:19:06Z as default key.
2022-11-04 06:27:34.316 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-04 06:27:34.318 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-11-04 06:27:34.320 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-04 06:27:34.323 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-11-04 06:27:34.324 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-11-04 06:27:34.327 +01:00 [DBG] Using key {ca5418d9-ee4c-4ba0-8c55-fe7be64fcdab} as the default key.
2022-11-04 06:27:34.327 +01:00 [DBG] Key ring with default key {ca5418d9-ee4c-4ba0-8c55-fe7be64fcdab} was loaded during application startup.
2022-11-04 06:27:34.459 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F270D90B7FA1668EBDB3D13B83A358E961DF2897)
2022-11-04 06:27:34.487 +01:00 [INF] Now listening on: https://localhost:7188
2022-11-04 06:27:34.487 +01:00 [INF] Now listening on: http://localhost:5188
2022-11-04 06:27:34.487 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_API
2022-11-04 06:27:34.487 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-11-04 06:27:34.487 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-11-04 06:27:34.487 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 06:27:34.487 +01:00 [INF] Hosting environment: Development
2022-11-04 06:27:34.487 +01:00 [INF] Content root path: C:\Users\rtoldi\Desktop\jegyzetek\WebAPI\MagicVilla_API\MagicVilla_API\
2022-11-04 06:27:34.488 +01:00 [DBG] Hosting started
2022-11-04 06:27:34.741 +01:00 [DBG] Connection id "0HMLU4L3MG58E" received FIN.
2022-11-04 06:27:34.741 +01:00 [DBG] Connection id "0HMLU4L3MG58F" received FIN.
2022-11-04 06:27:34.749 +01:00 [DBG] Connection id "0HMLU4L3MG58E" accepted.
2022-11-04 06:27:34.749 +01:00 [DBG] Connection id "0HMLU4L3MG58F" accepted.
2022-11-04 06:27:34.750 +01:00 [DBG] Connection id "0HMLU4L3MG58E" started.
2022-11-04 06:27:34.750 +01:00 [DBG] Connection id "0HMLU4L3MG58F" started.
2022-11-04 06:27:34.763 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-11-04 06:27:34.763 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-11-04 06:27:34.789 +01:00 [DBG] Connection id "0HMLU4L3MG58F" stopped.
2022-11-04 06:27:34.789 +01:00 [DBG] Connection id "0HMLU4L3MG58E" stopped.
2022-11-04 06:27:34.792 +01:00 [DBG] Connection id "0HMLU4L3MG58F" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-11-04 06:27:34.792 +01:00 [DBG] Connection id "0HMLU4L3MG58E" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-11-04 06:27:34.928 +01:00 [DBG] Connection id "0HMLU4L3MG58G" accepted.
2022-11-04 06:27:34.928 +01:00 [DBG] Connection id "0HMLU4L3MG58G" started.
2022-11-04 06:27:34.957 +01:00 [DBG] Connection 0HMLU4L3MG58G established using the following protocol: "Tls13"
2022-11-04 06:27:34.995 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/swagger/index.html - -
2022-11-04 06:27:35.026 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-11-04 06:27:35.049 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-11-04 06:27:35.049 +01:00 [DBG] Request did not match any endpoints
2022-11-04 06:27:35.148 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-11-04 06:27:35.247 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-11-04 06:27:35.250 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/swagger/index.html - - - 200 - text/html;charset=utf-8 257.0909ms
2022-11-04 06:27:35.259 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/_framework/aspnetcore-browser-refresh.js - -
2022-11-04 06:27:35.263 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/_framework/aspnetcore-browser-refresh.js - - - 200 11998 application/javascript;+charset=utf-8 3.4742ms
2022-11-04 06:27:35.317 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/_vs/browserLink - -
2022-11-04 06:27:35.332 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 15.3173ms
2022-11-04 06:27:35.497 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/swagger/v1/swagger.json - -
2022-11-04 06:27:35.497 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-11-04 06:27:35.497 +01:00 [DBG] Request did not match any endpoints
2022-11-04 06:27:35.646 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 149.0586ms
2022-11-04 06:27:47.133 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/api/v1/VillaNumberAPI/GetString - -
2022-11-04 06:27:47.141 +01:00 [DBG] 2 candidate(s) found for the request path '/api/v1/VillaNumberAPI/GetString'
2022-11-04 06:27:47.148 +01:00 [DBG] Endpoint 'MagicVilla_API.Controllers.v2.VillaNumberAPIController.Get (MagicVilla_API)' with route pattern 'api/v{version:apiVersion}/VillaNumberAPI/GetString' is valid for the request path '/api/v1/VillaNumberAPI/GetString'
2022-11-04 06:27:47.149 +01:00 [DBG] Endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.Get (MagicVilla_API)' with route pattern 'api/v{version:apiVersion}/VillaNumberAPI/GetString' is valid for the request path '/api/v1/VillaNumberAPI/GetString'
2022-11-04 06:27:47.153 +01:00 [DBG] Request matched endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.Get (MagicVilla_API)'
2022-11-04 06:27:47.155 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-11-04 06:27:47.202 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-11-04 06:27:47.205 +01:00 [INF] Executing endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.Get (MagicVilla_API)'
2022-11-04 06:27:47.213 +01:00 [INF] Route matched with {action = "Get", controller = "VillaNumberAPI"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[System.String] Get() on controller MagicVilla_API.Controllers.v1.VillaNumberAPIController (MagicVilla_API).
2022-11-04 06:27:47.213 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-11-04 06:27:47.213 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-11-04 06:27:47.214 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:27:47.214 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-11-04 06:27:47.214 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:27:47.215 +01:00 [DBG] Executing controller factory for controller MagicVilla_API.Controllers.v1.VillaNumberAPIController (MagicVilla_API)
2022-11-04 06:27:47.347 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-11-04 06:27:48.202 +01:00 [INF] Entity Framework Core 6.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.9' with options: None
2022-11-04 06:27:48.309 +01:00 [DBG] Executed controller factory for controller MagicVilla_API.Controllers.v1.VillaNumberAPIController (MagicVilla_API)
2022-11-04 06:27:48.313 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-11-04 06:27:48.316 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2022-11-04 06:27:48.317 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2022-11-04 06:27:48.317 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String[]'.
2022-11-04 06:27:48.337 +01:00 [INF] Executed action MagicVilla_API.Controllers.v1.VillaNumberAPIController.Get (MagicVilla_API) in 1118.2301ms
2022-11-04 06:27:48.338 +01:00 [INF] Executed endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.Get (MagicVilla_API)'
2022-11-04 06:27:48.342 +01:00 [DBG] 'ApplicationDbContext' disposed.
2022-11-04 06:27:48.346 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/api/v1/VillaNumberAPI/GetString - - - 200 198 application/xml;+charset=utf-8 1212.6262ms
2022-11-04 06:28:11.855 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/api/v1/VillaAPI/1 - -
2022-11-04 06:28:11.858 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaAPI/1'
2022-11-04 06:28:11.859 +01:00 [DBG] Endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVilla (MagicVilla_API)' with route pattern 'api/v{version:apiVersion}/VillaAPI/{id:int}' is valid for the request path '/api/v1/VillaAPI/1'
2022-11-04 06:28:11.859 +01:00 [DBG] Request matched endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVilla (MagicVilla_API)'
2022-11-04 06:28:11.859 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-11-04 06:28:11.859 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-11-04 06:28:11.859 +01:00 [INF] Executing endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVilla (MagicVilla_API)'
2022-11-04 06:28:11.874 +01:00 [INF] Route matched with {action = "GetVilla", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_API.Models.APIResponse]] GetVilla(Int32) on controller MagicVilla_API.Controllers.v1.VillaAPIController (MagicVilla_API).
2022-11-04 06:28:11.874 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-11-04 06:28:11.874 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-11-04 06:28:11.875 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-11-04 06:28:11.875 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-11-04 06:28:11.875 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:28:11.875 +01:00 [DBG] Executing controller factory for controller MagicVilla_API.Controllers.v1.VillaAPIController (MagicVilla_API)
2022-11-04 06:28:11.908 +01:00 [INF] Entity Framework Core 6.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.9' with options: None
2022-11-04 06:28:11.909 +01:00 [DBG] Executed controller factory for controller MagicVilla_API.Controllers.v1.VillaAPIController (MagicVilla_API)
2022-11-04 06:28:11.917 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-11-04 06:28:11.919 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-11-04 06:28:11.919 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-11-04 06:28:11.919 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-11-04 06:28:11.919 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-11-04 06:28:11.921 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-11-04 06:28:12.028 +01:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(x => x.Id == __id_0)
    .FirstOrDefault()'
2022-11-04 06:28:12.317 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_API.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-11-04 06:28:12.380 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-11-04 06:28:12.420 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (36ms).
2022-11-04 06:28:12.438 +01:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:28:12.716 +01:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:28:12.733 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2022-11-04 06:28:12.819 +01:00 [INF] Executed DbCommand (92ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2022-11-04 06:28:12.861 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:28:12.908 +01:00 [DBG] A data reader was disposed.
2022-11-04 06:28:12.915 +01:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:28:12.925 +01:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:28:12.942 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-11-04 06:28:12.942 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2022-11-04 06:28:12.942 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2022-11-04 06:28:12.942 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_API.Models.APIResponse'.
2022-11-04 06:28:12.950 +01:00 [INF] Executed action MagicVilla_API.Controllers.v1.VillaAPIController.GetVilla (MagicVilla_API) in 1074.8372ms
2022-11-04 06:28:12.951 +01:00 [INF] Executed endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVilla (MagicVilla_API)'
2022-11-04 06:28:12.953 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Runtime.Serialization.SerializationException: Type 'MagicVilla_API.Models.DTO.VillaDTO' with data contract name 'VillaDTO:http://schemas.datacontract.org/2004/07/MagicVilla_API.Models.DTO' is not expected. Add any types not known statically to the list of known types - for example, by using the KnownTypeAttribute attribute or by adding them to the list of known types passed to DataContractSerializer.
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.SerializeAndVerifyType(DataContract dataContract, XmlWriterDelegator xmlWriter, Object obj, Boolean verifyKnownType, RuntimeTypeHandle declaredTypeHandle, Type declaredType)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.SerializeWithXsiType(XmlWriterDelegator xmlWriter, Object obj, RuntimeTypeHandle objectTypeHandle, Type objectType, Int32 declaredTypeID, RuntimeTypeHandle declaredTypeHandle, Type declaredType)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.InternalSerialize(XmlWriterDelegator xmlWriter, Object obj, Boolean isDeclaredType, Boolean writeXsiType, Int32 declaredTypeID, RuntimeTypeHandle declaredTypeHandle)
   at WriteAPIResponseToXml(XmlWriterDelegator , Object , XmlObjectSerializerWriteContext , ClassDataContract )
   at System.Runtime.Serialization.ClassDataContract.WriteXmlValue(XmlWriterDelegator xmlWriter, Object obj, XmlObjectSerializerWriteContext context)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.WriteDataContractValue(DataContract dataContract, XmlWriterDelegator xmlWriter, Object obj, RuntimeTypeHandle declaredTypeHandle)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.SerializeWithoutXsiType(DataContract dataContract, XmlWriterDelegator xmlWriter, Object obj, RuntimeTypeHandle declaredTypeHandle)
   at System.Runtime.Serialization.DataContractSerializer.InternalWriteObjectContent(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.DataContractSerializer.InternalWriteObject(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.XmlObjectSerializer.WriteObjectHandleExceptions(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.DataContractSerializer.WriteObject(XmlWriter writer, Object graph)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-11-04 06:28:12.958 +01:00 [DBG] 'ApplicationDbContext' disposed.
2022-11-04 06:28:12.958 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/api/v1/VillaAPI/1 - - - 500 - text/plain;+charset=utf-8 1103.1883ms
2022-11-04 06:29:17.220 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-11-04 06:29:17.315 +01:00 [DBG] Hosting starting
2022-11-04 06:29:17.343 +01:00 [INF] User profile is available. Using 'C:\Users\rtoldi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-04 06:29:17.345 +01:00 [DBG] Reading data from file 'C:\Users\rtoldi\AppData\Local\ASP.NET\DataProtection-Keys\key-27159ef2-17f2-4c5f-9c9d-f3350ac98bb9.xml'.
2022-11-04 06:29:17.348 +01:00 [DBG] Reading data from file 'C:\Users\rtoldi\AppData\Local\ASP.NET\DataProtection-Keys\key-33f6f038-2136-422e-b328-87ca68eb2e95.xml'.
2022-11-04 06:29:17.349 +01:00 [DBG] Reading data from file 'C:\Users\rtoldi\AppData\Local\ASP.NET\DataProtection-Keys\key-95d9bb65-0f17-4b4a-91db-ad33ee17bdfd.xml'.
2022-11-04 06:29:17.349 +01:00 [DBG] Reading data from file 'C:\Users\rtoldi\AppData\Local\ASP.NET\DataProtection-Keys\key-ca5418d9-ee4c-4ba0-8c55-fe7be64fcdab.xml'.
2022-11-04 06:29:17.353 +01:00 [DBG] Found key {27159ef2-17f2-4c5f-9c9d-f3350ac98bb9}.
2022-11-04 06:29:17.354 +01:00 [DBG] Found key {33f6f038-2136-422e-b328-87ca68eb2e95}.
2022-11-04 06:29:17.354 +01:00 [DBG] Found key {95d9bb65-0f17-4b4a-91db-ad33ee17bdfd}.
2022-11-04 06:29:17.355 +01:00 [DBG] Found key {ca5418d9-ee4c-4ba0-8c55-fe7be64fcdab}.
2022-11-04 06:29:17.360 +01:00 [DBG] Considering key {ca5418d9-ee4c-4ba0-8c55-fe7be64fcdab} with expiration date 2023-01-22 16:19:06Z as default key.
2022-11-04 06:29:17.362 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-04 06:29:17.364 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-11-04 06:29:17.365 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-04 06:29:17.368 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-11-04 06:29:17.370 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-11-04 06:29:17.372 +01:00 [DBG] Using key {ca5418d9-ee4c-4ba0-8c55-fe7be64fcdab} as the default key.
2022-11-04 06:29:17.372 +01:00 [DBG] Key ring with default key {ca5418d9-ee4c-4ba0-8c55-fe7be64fcdab} was loaded during application startup.
2022-11-04 06:29:17.469 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F270D90B7FA1668EBDB3D13B83A358E961DF2897)
2022-11-04 06:29:17.508 +01:00 [INF] Now listening on: https://localhost:7188
2022-11-04 06:29:17.508 +01:00 [INF] Now listening on: http://localhost:5188
2022-11-04 06:29:17.508 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_API
2022-11-04 06:29:17.508 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-11-04 06:29:17.508 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-11-04 06:29:17.509 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 06:29:17.509 +01:00 [INF] Hosting environment: Development
2022-11-04 06:29:17.509 +01:00 [INF] Content root path: C:\Users\rtoldi\Desktop\jegyzetek\WebAPI\MagicVilla_API\MagicVilla_API\
2022-11-04 06:29:17.509 +01:00 [DBG] Hosting started
2022-11-04 06:29:17.936 +01:00 [DBG] Connection id "0HMLU4M2EK1A4" accepted.
2022-11-04 06:29:17.937 +01:00 [DBG] Connection id "0HMLU4M2EK1A4" started.
2022-11-04 06:29:17.940 +01:00 [DBG] Connection id "0HMLU4M2EK1A5" accepted.
2022-11-04 06:29:17.940 +01:00 [DBG] Connection id "0HMLU4M2EK1A5" started.
2022-11-04 06:29:17.974 +01:00 [DBG] Connection id "0HMLU4M2EK1A5" received FIN.
2022-11-04 06:29:17.974 +01:00 [DBG] Connection id "0HMLU4M2EK1A4" received FIN.
2022-11-04 06:29:17.988 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-11-04 06:29:17.988 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-11-04 06:29:18.023 +01:00 [DBG] Connection id "0HMLU4M2EK1A5" stopped.
2022-11-04 06:29:18.023 +01:00 [DBG] Connection id "0HMLU4M2EK1A4" stopped.
2022-11-04 06:29:18.025 +01:00 [DBG] Connection id "0HMLU4M2EK1A4" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-11-04 06:29:18.025 +01:00 [DBG] Connection id "0HMLU4M2EK1A5" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-11-04 06:29:18.145 +01:00 [DBG] Connection id "0HMLU4M2EK1A6" accepted.
2022-11-04 06:29:18.146 +01:00 [DBG] Connection id "0HMLU4M2EK1A6" started.
2022-11-04 06:29:18.174 +01:00 [DBG] Connection 0HMLU4M2EK1A6 established using the following protocol: "Tls13"
2022-11-04 06:29:18.214 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/swagger/index.html - -
2022-11-04 06:29:18.244 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-11-04 06:29:18.265 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-11-04 06:29:18.265 +01:00 [DBG] Request did not match any endpoints
2022-11-04 06:29:18.363 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-11-04 06:29:18.458 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-11-04 06:29:18.461 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/swagger/index.html - - - 200 - text/html;charset=utf-8 249.4607ms
2022-11-04 06:29:18.470 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/_framework/aspnetcore-browser-refresh.js - -
2022-11-04 06:29:18.473 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/_framework/aspnetcore-browser-refresh.js - - - 200 11998 application/javascript;+charset=utf-8 3.3149ms
2022-11-04 06:29:18.526 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/_vs/browserLink - -
2022-11-04 06:29:18.541 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 15.6142ms
2022-11-04 06:29:18.667 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/swagger/v1/swagger.json - -
2022-11-04 06:29:18.668 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-11-04 06:29:18.668 +01:00 [DBG] Request did not match any endpoints
2022-11-04 06:29:18.826 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 158.4448ms
2022-11-04 06:29:30.879 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/api/v1/VillaAPI/1 - -
2022-11-04 06:29:30.885 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaAPI/1'
2022-11-04 06:29:30.891 +01:00 [DBG] Endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVilla (MagicVilla_API)' with route pattern 'api/v{version:apiVersion}/VillaAPI/{id:int}' is valid for the request path '/api/v1/VillaAPI/1'
2022-11-04 06:29:30.895 +01:00 [DBG] Request matched endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVilla (MagicVilla_API)'
2022-11-04 06:29:30.896 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-11-04 06:29:31.233 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-11-04 06:29:31.236 +01:00 [INF] Executing endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVilla (MagicVilla_API)'
2022-11-04 06:29:31.262 +01:00 [INF] Route matched with {action = "GetVilla", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_API.Models.APIResponse]] GetVilla(Int32) on controller MagicVilla_API.Controllers.v1.VillaAPIController (MagicVilla_API).
2022-11-04 06:29:31.263 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-11-04 06:29:31.263 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-11-04 06:29:31.264 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-11-04 06:29:31.264 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-11-04 06:29:31.264 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:29:31.264 +01:00 [DBG] Executing controller factory for controller MagicVilla_API.Controllers.v1.VillaAPIController (MagicVilla_API)
2022-11-04 06:29:31.511 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-11-04 06:29:32.364 +01:00 [INF] Entity Framework Core 6.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.9' with options: None
2022-11-04 06:29:32.470 +01:00 [DBG] Executed controller factory for controller MagicVilla_API.Controllers.v1.VillaAPIController (MagicVilla_API)
2022-11-04 06:29:32.479 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-11-04 06:29:32.481 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-11-04 06:29:32.482 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-11-04 06:29:32.482 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-11-04 06:29:32.482 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-11-04 06:29:32.484 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-11-04 06:29:32.700 +01:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(x => x.Id == __id_0)
    .FirstOrDefault()'
2022-11-04 06:29:32.999 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required, 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqft (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqft, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_API.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-11-04 06:29:33.065 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-11-04 06:29:33.107 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (38ms).
2022-11-04 06:29:33.128 +01:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:29:33.584 +01:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:29:33.603 +01:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2022-11-04 06:29:33.690 +01:00 [INF] Executed DbCommand (95ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqft], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2022-11-04 06:29:33.730 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:29:33.778 +01:00 [DBG] A data reader was disposed.
2022-11-04 06:29:33.785 +01:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:29:33.795 +01:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:29:33.812 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-11-04 06:29:33.815 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2022-11-04 06:29:33.816 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2022-11-04 06:29:33.816 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_API.Models.APIResponse'.
2022-11-04 06:29:33.832 +01:00 [INF] Executed action MagicVilla_API.Controllers.v1.VillaAPIController.GetVilla (MagicVilla_API) in 2564.6134ms
2022-11-04 06:29:33.833 +01:00 [INF] Executed endpoint 'MagicVilla_API.Controllers.v1.VillaAPIController.GetVilla (MagicVilla_API)'
2022-11-04 06:29:33.836 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Runtime.Serialization.SerializationException: Type 'MagicVilla_API.Models.DTO.VillaDTO' with data contract name 'VillaDTO:http://schemas.datacontract.org/2004/07/MagicVilla_API.Models.DTO' is not expected. Add any types not known statically to the list of known types - for example, by using the KnownTypeAttribute attribute or by adding them to the list of known types passed to DataContractSerializer.
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.SerializeAndVerifyType(DataContract dataContract, XmlWriterDelegator xmlWriter, Object obj, Boolean verifyKnownType, RuntimeTypeHandle declaredTypeHandle, Type declaredType)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.SerializeWithXsiType(XmlWriterDelegator xmlWriter, Object obj, RuntimeTypeHandle objectTypeHandle, Type objectType, Int32 declaredTypeID, RuntimeTypeHandle declaredTypeHandle, Type declaredType)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.InternalSerialize(XmlWriterDelegator xmlWriter, Object obj, Boolean isDeclaredType, Boolean writeXsiType, Int32 declaredTypeID, RuntimeTypeHandle declaredTypeHandle)
   at WriteAPIResponseToXml(XmlWriterDelegator , Object , XmlObjectSerializerWriteContext , ClassDataContract )
   at System.Runtime.Serialization.ClassDataContract.WriteXmlValue(XmlWriterDelegator xmlWriter, Object obj, XmlObjectSerializerWriteContext context)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.WriteDataContractValue(DataContract dataContract, XmlWriterDelegator xmlWriter, Object obj, RuntimeTypeHandle declaredTypeHandle)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.SerializeWithoutXsiType(DataContract dataContract, XmlWriterDelegator xmlWriter, Object obj, RuntimeTypeHandle declaredTypeHandle)
   at System.Runtime.Serialization.DataContractSerializer.InternalWriteObjectContent(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.DataContractSerializer.InternalWriteObject(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.XmlObjectSerializer.WriteObjectHandleExceptions(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.DataContractSerializer.WriteObject(XmlWriter writer, Object graph)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-11-04 06:29:33.847 +01:00 [DBG] 'ApplicationDbContext' disposed.
2022-11-04 06:29:33.851 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/api/v1/VillaAPI/1 - - - 500 - text/plain;+charset=utf-8 2971.7330ms
2022-11-04 06:33:46.285 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-11-04 06:33:46.434 +01:00 [DBG] Hosting starting
2022-11-04 06:33:46.459 +01:00 [INF] User profile is available. Using 'C:\Users\rtoldi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-04 06:33:46.462 +01:00 [DBG] Reading data from file 'C:\Users\rtoldi\AppData\Local\ASP.NET\DataProtection-Keys\key-27159ef2-17f2-4c5f-9c9d-f3350ac98bb9.xml'.
2022-11-04 06:33:46.466 +01:00 [DBG] Reading data from file 'C:\Users\rtoldi\AppData\Local\ASP.NET\DataProtection-Keys\key-33f6f038-2136-422e-b328-87ca68eb2e95.xml'.
2022-11-04 06:33:46.466 +01:00 [DBG] Reading data from file 'C:\Users\rtoldi\AppData\Local\ASP.NET\DataProtection-Keys\key-95d9bb65-0f17-4b4a-91db-ad33ee17bdfd.xml'.
2022-11-04 06:33:46.466 +01:00 [DBG] Reading data from file 'C:\Users\rtoldi\AppData\Local\ASP.NET\DataProtection-Keys\key-ca5418d9-ee4c-4ba0-8c55-fe7be64fcdab.xml'.
2022-11-04 06:33:46.471 +01:00 [DBG] Found key {27159ef2-17f2-4c5f-9c9d-f3350ac98bb9}.
2022-11-04 06:33:46.473 +01:00 [DBG] Found key {33f6f038-2136-422e-b328-87ca68eb2e95}.
2022-11-04 06:33:46.474 +01:00 [DBG] Found key {95d9bb65-0f17-4b4a-91db-ad33ee17bdfd}.
2022-11-04 06:33:46.474 +01:00 [DBG] Found key {ca5418d9-ee4c-4ba0-8c55-fe7be64fcdab}.
2022-11-04 06:33:46.480 +01:00 [DBG] Considering key {ca5418d9-ee4c-4ba0-8c55-fe7be64fcdab} with expiration date 2023-01-22 16:19:06Z as default key.
2022-11-04 06:33:46.481 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-04 06:33:46.484 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-11-04 06:33:46.485 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-11-04 06:33:46.489 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-11-04 06:33:46.492 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-11-04 06:33:46.495 +01:00 [DBG] Using key {ca5418d9-ee4c-4ba0-8c55-fe7be64fcdab} as the default key.
2022-11-04 06:33:46.495 +01:00 [DBG] Key ring with default key {ca5418d9-ee4c-4ba0-8c55-fe7be64fcdab} was loaded during application startup.
2022-11-04 06:33:46.625 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F270D90B7FA1668EBDB3D13B83A358E961DF2897)
2022-11-04 06:33:46.659 +01:00 [INF] Now listening on: https://localhost:7188
2022-11-04 06:33:46.659 +01:00 [INF] Now listening on: http://localhost:5188
2022-11-04 06:33:46.659 +01:00 [DBG] Loaded hosting startup assembly MagicVilla_API
2022-11-04 06:33:46.659 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-11-04 06:33:46.659 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-11-04 06:33:46.659 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 06:33:46.659 +01:00 [INF] Hosting environment: Development
2022-11-04 06:33:46.659 +01:00 [INF] Content root path: C:\Users\rtoldi\Desktop\jegyzetek\WebAPI\MagicVilla_API\MagicVilla_API\
2022-11-04 06:33:46.659 +01:00 [DBG] Hosting started
2022-11-04 06:33:47.068 +01:00 [DBG] Connection id "0HMLU4OIL8GD6" accepted.
2022-11-04 06:33:47.069 +01:00 [DBG] Connection id "0HMLU4OIL8GD6" started.
2022-11-04 06:33:47.073 +01:00 [DBG] Connection id "0HMLU4OIL8GD7" received FIN.
2022-11-04 06:33:47.074 +01:00 [DBG] Connection id "0HMLU4OIL8GD7" accepted.
2022-11-04 06:33:47.074 +01:00 [DBG] Connection id "0HMLU4OIL8GD7" started.
2022-11-04 06:33:47.074 +01:00 [DBG] Connection id "0HMLU4OIL8GD6" received FIN.
2022-11-04 06:33:47.080 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-11-04 06:33:47.080 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-11-04 06:33:47.105 +01:00 [DBG] Connection id "0HMLU4OIL8GD7" stopped.
2022-11-04 06:33:47.105 +01:00 [DBG] Connection id "0HMLU4OIL8GD6" stopped.
2022-11-04 06:33:47.106 +01:00 [DBG] Connection id "0HMLU4OIL8GD6" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-11-04 06:33:47.106 +01:00 [DBG] Connection id "0HMLU4OIL8GD7" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-11-04 06:33:47.277 +01:00 [DBG] Connection id "0HMLU4OIL8GD8" accepted.
2022-11-04 06:33:47.277 +01:00 [DBG] Connection id "0HMLU4OIL8GD8" started.
2022-11-04 06:33:47.305 +01:00 [DBG] Connection 0HMLU4OIL8GD8 established using the following protocol: "Tls13"
2022-11-04 06:33:47.344 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/swagger/index.html - -
2022-11-04 06:33:47.370 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-11-04 06:33:47.394 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-11-04 06:33:47.394 +01:00 [DBG] Request did not match any endpoints
2022-11-04 06:33:47.497 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-11-04 06:33:47.596 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-11-04 06:33:47.600 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/swagger/index.html - - - 200 - text/html;charset=utf-8 257.9043ms
2022-11-04 06:33:47.609 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/_framework/aspnetcore-browser-refresh.js - -
2022-11-04 06:33:47.613 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/_framework/aspnetcore-browser-refresh.js - - - 200 11998 application/javascript;+charset=utf-8 3.4657ms
2022-11-04 06:33:47.655 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/_vs/browserLink - -
2022-11-04 06:33:47.669 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 14.0429ms
2022-11-04 06:33:47.774 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/swagger/v1/swagger.json - -
2022-11-04 06:33:47.774 +01:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-11-04 06:33:47.774 +01:00 [DBG] Request did not match any endpoints
2022-11-04 06:33:47.925 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 150.6538ms
2022-11-04 06:34:02.505 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7188/api/v1/UserAuth/login application/json-patch+json 50
2022-11-04 06:34:02.512 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/login'
2022-11-04 06:34:02.518 +01:00 [DBG] Endpoint 'MagicVilla_API.Controllers.UsersController.Login (MagicVilla_API)' with route pattern 'api/v{version:apiVersion}/UserAuth/login' is valid for the request path '/api/v1/UserAuth/login'
2022-11-04 06:34:02.522 +01:00 [DBG] Request matched endpoint 'MagicVilla_API.Controllers.UsersController.Login (MagicVilla_API)'
2022-11-04 06:34:02.523 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-11-04 06:34:02.572 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-11-04 06:34:02.574 +01:00 [INF] Executing endpoint 'MagicVilla_API.Controllers.UsersController.Login (MagicVilla_API)'
2022-11-04 06:34:02.601 +01:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MagicVilla_API.Models.DTO.LoginRequestDTO) on controller MagicVilla_API.Controllers.UsersController (MagicVilla_API).
2022-11-04 06:34:02.602 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-11-04 06:34:02.602 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-11-04 06:34:02.603 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:34:02.603 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-11-04 06:34:02.603 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:34:02.604 +01:00 [DBG] Executing controller factory for controller MagicVilla_API.Controllers.UsersController (MagicVilla_API)
2022-11-04 06:34:02.770 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-11-04 06:34:02.797 +01:00 [DBG] Executed controller factory for controller MagicVilla_API.Controllers.UsersController (MagicVilla_API)
2022-11-04 06:34:02.806 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_API.Models.DTO.LoginRequestDTO' ...
2022-11-04 06:34:02.808 +01:00 [DBG] Attempting to bind parameter 'model' of type 'MagicVilla_API.Models.DTO.LoginRequestDTO' using the name '' in request data ...
2022-11-04 06:34:02.809 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-11-04 06:34:02.809 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-11-04 06:34:02.821 +01:00 [DBG] Connection id "0HMLU4OIL8GD8", Request id "0HMLU4OIL8GD8:00000009": started reading request body.
2022-11-04 06:34:02.821 +01:00 [DBG] Connection id "0HMLU4OIL8GD8", Request id "0HMLU4OIL8GD8:00000009": done reading request body.
2022-11-04 06:34:02.934 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_API.Models.DTO.LoginRequestDTO'.
2022-11-04 06:34:02.934 +01:00 [DBG] Done attempting to bind parameter 'model' of type 'MagicVilla_API.Models.DTO.LoginRequestDTO'.
2022-11-04 06:34:02.934 +01:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MagicVilla_API.Models.DTO.LoginRequestDTO' ...
2022-11-04 06:34:02.943 +01:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MagicVilla_API.Models.DTO.LoginRequestDTO'.
2022-11-04 06:34:03.799 +01:00 [INF] Entity Framework Core 6.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.9' with options: None
2022-11-04 06:34:03.874 +01:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(u => u.UserName.ToLower() == __ToLower_0 && u.Password == __loginResuestDTO_Password_1)'
2022-11-04 06:34:04.237 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginResuestDTO_Password_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    MagicVilla_API.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-11-04 06:34:04.297 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-11-04 06:34:04.342 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (41ms).
2022-11-04 06:34:04.356 +01:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:34:04.617 +01:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:34:04.631 +01:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginResuestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE (LOWER([l].[UserName]) = @__ToLower_0) AND ([l].[Password] = @__loginResuestDTO_Password_1)
2022-11-04 06:34:04.697 +01:00 [INF] Executed DbCommand (71ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginResuestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE (LOWER([l].[UserName]) = @__ToLower_0) AND ([l].[Password] = @__loginResuestDTO_Password_1)
2022-11-04 06:34:04.721 +01:00 [DBG] Context 'ApplicationDbContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-11-04 06:34:04.752 +01:00 [DBG] A data reader was disposed.
2022-11-04 06:34:04.755 +01:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:34:04.766 +01:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:34:04.965 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-11-04 06:34:04.966 +01:00 [DBG] No information found on request to perform content negotiation.
2022-11-04 06:34:04.966 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-04 06:34:04.967 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-04 06:34:04.967 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-04 06:34:04.967 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_API.Models.APIResponse'.
2022-11-04 06:34:05.022 +01:00 [INF] Executed action MagicVilla_API.Controllers.UsersController.Login (MagicVilla_API) in 2414.7148ms
2022-11-04 06:34:05.023 +01:00 [INF] Executed endpoint 'MagicVilla_API.Controllers.UsersController.Login (MagicVilla_API)'
2022-11-04 06:34:05.027 +01:00 [DBG] 'ApplicationDbContext' disposed.
2022-11-04 06:34:05.031 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7188/api/v1/UserAuth/login application/json-patch+json 50 - 200 355 application/json;+charset=utf-8 2525.6781ms
2022-11-04 06:34:33.215 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/api/v1/VillaNumberAPI - -
2022-11-04 06:34:33.216 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaNumberAPI'
2022-11-04 06:34:33.216 +01:00 [DBG] Endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.GetVillaNumbers (MagicVilla_API)' with route pattern 'api/v{version:apiVersion}/VillaNumberAPI' is valid for the request path '/api/v1/VillaNumberAPI'
2022-11-04 06:34:33.216 +01:00 [DBG] Request matched endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.GetVillaNumbers (MagicVilla_API)'
2022-11-04 06:34:33.216 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-11-04 06:34:33.287 +01:00 [DBG] Successfully validated the token.
2022-11-04 06:34:33.288 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-11-04 06:34:33.289 +01:00 [INF] Executing endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.GetVillaNumbers (MagicVilla_API)'
2022-11-04 06:34:33.291 +01:00 [INF] Route matched with {action = "GetVillaNumbers", controller = "VillaNumberAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_API.Models.APIResponse]] GetVillaNumbers() on controller MagicVilla_API.Controllers.v1.VillaNumberAPIController (MagicVilla_API).
2022-11-04 06:34:33.291 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-11-04 06:34:33.291 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-11-04 06:34:33.292 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:34:33.292 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-11-04 06:34:33.292 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:34:33.292 +01:00 [DBG] Executing controller factory for controller MagicVilla_API.Controllers.v1.VillaNumberAPIController (MagicVilla_API)
2022-11-04 06:34:33.297 +01:00 [INF] Entity Framework Core 6.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.9' with options: None
2022-11-04 06:34:33.406 +01:00 [DBG] Executed controller factory for controller MagicVilla_API.Controllers.v1.VillaNumberAPIController (MagicVilla_API)
2022-11-04 06:34:33.415 +01:00 [DBG] Compiling query expression: 
'DbSet<VillaNumber>()'
2022-11-04 06:34:33.419 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<VillaNumber>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: VillaNumber.VillaNo (int) Required PK AfterSave:Throw, 0], [Property: VillaNumber.CreatedDate (DateTime) Required, 1], [Property: VillaNumber.SpecialDetails (string) Required, 2], [Property: VillaNumber.UpdatedDate (DateTime) Required, 3], [Property: VillaNumber.VillaID (int) Required FK Index, 4] }
        SELECT v.VillaNo, v.CreatedDate, v.SpecialDetails, v.UpdatedDate, v.VillaID
        FROM VillaNumbers AS v), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, VillaNumber>, 
    MagicVilla_API.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2022-11-04 06:34:33.437 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-11-04 06:34:33.437 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-11-04 06:34:33.443 +01:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:34:33.449 +01:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:34:33.450 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaID]
FROM [VillaNumbers] AS [v]
2022-11-04 06:34:33.477 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaID]
FROM [VillaNumbers] AS [v]
2022-11-04 06:34:33.494 +01:00 [DBG] A data reader was disposed.
2022-11-04 06:34:33.499 +01:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:34:33.500 +01:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:34:33.500 +01:00 [INF] Getting all villas!
2022-11-04 06:34:33.528 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-11-04 06:34:33.529 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-11-04 06:34:33.529 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-11-04 06:34:33.530 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-11-04 06:34:33.530 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-11-04 06:34:33.530 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-04 06:34:33.530 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_API.Models.APIResponse'.
2022-11-04 06:34:33.533 +01:00 [INF] Executed action MagicVilla_API.Controllers.v1.VillaNumberAPIController.GetVillaNumbers (MagicVilla_API) in 241.4979ms
2022-11-04 06:34:33.536 +01:00 [INF] Executed endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.GetVillaNumbers (MagicVilla_API)'
2022-11-04 06:34:33.538 +01:00 [DBG] 'ApplicationDbContext' disposed.
2022-11-04 06:34:33.538 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/api/v1/VillaNumberAPI - - - 200 66 application/json;+charset=utf-8 323.0321ms
2022-11-04 06:34:39.819 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/api/v1/VillaNumberAPI - -
2022-11-04 06:34:39.819 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaNumberAPI'
2022-11-04 06:34:39.819 +01:00 [DBG] Endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.GetVillaNumbers (MagicVilla_API)' with route pattern 'api/v{version:apiVersion}/VillaNumberAPI' is valid for the request path '/api/v1/VillaNumberAPI'
2022-11-04 06:34:39.819 +01:00 [DBG] Request matched endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.GetVillaNumbers (MagicVilla_API)'
2022-11-04 06:34:39.820 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-11-04 06:34:39.821 +01:00 [DBG] Successfully validated the token.
2022-11-04 06:34:39.821 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-11-04 06:34:39.821 +01:00 [INF] Executing endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.GetVillaNumbers (MagicVilla_API)'
2022-11-04 06:34:39.822 +01:00 [INF] Route matched with {action = "GetVillaNumbers", controller = "VillaNumberAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_API.Models.APIResponse]] GetVillaNumbers() on controller MagicVilla_API.Controllers.v1.VillaNumberAPIController (MagicVilla_API).
2022-11-04 06:34:39.822 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-11-04 06:34:39.822 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-11-04 06:34:39.822 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:34:39.822 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-11-04 06:34:39.822 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:34:39.822 +01:00 [DBG] Executing controller factory for controller MagicVilla_API.Controllers.v1.VillaNumberAPIController (MagicVilla_API)
2022-11-04 06:34:39.862 +01:00 [INF] Entity Framework Core 6.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.9' with options: None
2022-11-04 06:34:39.863 +01:00 [DBG] Executed controller factory for controller MagicVilla_API.Controllers.v1.VillaNumberAPIController (MagicVilla_API)
2022-11-04 06:34:39.864 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-11-04 06:34:39.864 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-11-04 06:34:39.864 +01:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:34:39.864 +01:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:34:39.864 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaID]
FROM [VillaNumbers] AS [v]
2022-11-04 06:34:39.867 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaID]
FROM [VillaNumbers] AS [v]
2022-11-04 06:34:39.867 +01:00 [DBG] A data reader was disposed.
2022-11-04 06:34:39.867 +01:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:34:39.867 +01:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:34:39.867 +01:00 [INF] Getting all villas!
2022-11-04 06:34:39.867 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-11-04 06:34:39.867 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-11-04 06:34:39.867 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-11-04 06:34:39.867 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_API.Models.APIResponse'.
2022-11-04 06:34:39.868 +01:00 [INF] Executed action MagicVilla_API.Controllers.v1.VillaNumberAPIController.GetVillaNumbers (MagicVilla_API) in 45.4188ms
2022-11-04 06:34:39.868 +01:00 [INF] Executed endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.GetVillaNumbers (MagicVilla_API)'
2022-11-04 06:34:39.868 +01:00 [DBG] 'ApplicationDbContext' disposed.
2022-11-04 06:34:39.868 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/api/v1/VillaNumberAPI - - - 200 66 application/json;+charset=utf-8 48.6487ms
2022-11-04 06:34:47.813 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7188/api/v1/VillaNumberAPI - -
2022-11-04 06:34:47.813 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaNumberAPI'
2022-11-04 06:34:47.813 +01:00 [DBG] Endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.GetVillaNumbers (MagicVilla_API)' with route pattern 'api/v{version:apiVersion}/VillaNumberAPI' is valid for the request path '/api/v1/VillaNumberAPI'
2022-11-04 06:34:47.813 +01:00 [DBG] Request matched endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.GetVillaNumbers (MagicVilla_API)'
2022-11-04 06:34:47.813 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-11-04 06:34:47.813 +01:00 [DBG] Successfully validated the token.
2022-11-04 06:34:47.813 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-11-04 06:34:47.813 +01:00 [INF] Executing endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.GetVillaNumbers (MagicVilla_API)'
2022-11-04 06:34:47.814 +01:00 [INF] Route matched with {action = "GetVillaNumbers", controller = "VillaNumberAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_API.Models.APIResponse]] GetVillaNumbers() on controller MagicVilla_API.Controllers.v1.VillaNumberAPIController (MagicVilla_API).
2022-11-04 06:34:47.814 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-11-04 06:34:47.814 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-11-04 06:34:47.814 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:34:47.814 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-11-04 06:34:47.814 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-11-04 06:34:47.814 +01:00 [DBG] Executing controller factory for controller MagicVilla_API.Controllers.v1.VillaNumberAPIController (MagicVilla_API)
2022-11-04 06:34:47.816 +01:00 [INF] Entity Framework Core 6.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.9' with options: None
2022-11-04 06:34:47.817 +01:00 [DBG] Executed controller factory for controller MagicVilla_API.Controllers.v1.VillaNumberAPIController (MagicVilla_API)
2022-11-04 06:34:47.817 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-11-04 06:34:47.817 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-11-04 06:34:47.817 +01:00 [DBG] Opening connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:34:47.817 +01:00 [DBG] Opened connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:34:47.817 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaID]
FROM [VillaNumbers] AS [v]
2022-11-04 06:34:47.818 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaID]
FROM [VillaNumbers] AS [v]
2022-11-04 06:34:47.818 +01:00 [DBG] A data reader was disposed.
2022-11-04 06:34:47.818 +01:00 [DBG] Closing connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:34:47.819 +01:00 [DBG] Closed connection to database 'Magic_VillaAPI' on server 'DESKTOP-M6UKM0B\MSSQL'.
2022-11-04 06:34:47.819 +01:00 [INF] Getting all villas!
2022-11-04 06:34:47.819 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-11-04 06:34:47.819 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2022-11-04 06:34:47.819 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2022-11-04 06:34:47.819 +01:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_API.Models.APIResponse'.
2022-11-04 06:34:47.830 +01:00 [INF] Executed action MagicVilla_API.Controllers.v1.VillaNumberAPIController.GetVillaNumbers (MagicVilla_API) in 15.7119ms
2022-11-04 06:34:47.830 +01:00 [INF] Executed endpoint 'MagicVilla_API.Controllers.v1.VillaNumberAPIController.GetVillaNumbers (MagicVilla_API)'
2022-11-04 06:34:47.831 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Runtime.Serialization.SerializationException: Type 'System.Collections.Generic.List`1[[MagicVilla_API.Models.DTO.VillaNumberDTO, MagicVilla_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]' with data contract name 'ArrayOfVillaNumberDTO:http://schemas.datacontract.org/2004/07/MagicVilla_API.Models.DTO' is not expected. Add any types not known statically to the list of known types - for example, by using the KnownTypeAttribute attribute or by adding them to the list of known types passed to DataContractSerializer.
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.SerializeAndVerifyType(DataContract dataContract, XmlWriterDelegator xmlWriter, Object obj, Boolean verifyKnownType, RuntimeTypeHandle declaredTypeHandle, Type declaredType)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.SerializeWithXsiType(XmlWriterDelegator xmlWriter, Object obj, RuntimeTypeHandle objectTypeHandle, Type objectType, Int32 declaredTypeID, RuntimeTypeHandle declaredTypeHandle, Type declaredType)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.InternalSerialize(XmlWriterDelegator xmlWriter, Object obj, Boolean isDeclaredType, Boolean writeXsiType, Int32 declaredTypeID, RuntimeTypeHandle declaredTypeHandle)
   at WriteAPIResponseToXml(XmlWriterDelegator , Object , XmlObjectSerializerWriteContext , ClassDataContract )
   at System.Runtime.Serialization.ClassDataContract.WriteXmlValue(XmlWriterDelegator xmlWriter, Object obj, XmlObjectSerializerWriteContext context)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.WriteDataContractValue(DataContract dataContract, XmlWriterDelegator xmlWriter, Object obj, RuntimeTypeHandle declaredTypeHandle)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.SerializeWithoutXsiType(DataContract dataContract, XmlWriterDelegator xmlWriter, Object obj, RuntimeTypeHandle declaredTypeHandle)
   at System.Runtime.Serialization.DataContractSerializer.InternalWriteObjectContent(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.DataContractSerializer.InternalWriteObject(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.XmlObjectSerializer.WriteObjectHandleExceptions(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.DataContractSerializer.WriteObject(XmlWriter writer, Object graph)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-11-04 06:34:47.837 +01:00 [DBG] 'ApplicationDbContext' disposed.
2022-11-04 06:34:47.837 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7188/api/v1/VillaNumberAPI - - - 500 - text/plain;+charset=utf-8 23.8948ms
